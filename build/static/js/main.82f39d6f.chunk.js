(this["webpackJsonpcounter-app"]=this["webpackJsonpcounter-app"]||[]).push([[0],{47:function(e,t,a){e.exports=a(87)},52:function(e,t,a){},83:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),s=a.n(o),c=(a(52),a(2)),i=a(3),l=a(5),u=a(4),m=a(7),p=a(9),d=function(e){var t=e.user;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(p.c,{className:"navbar-brand",to:"/"},"Moviely"),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement(p.c,{className:"nav-item nav-link ",to:"/"},"Home"),r.a.createElement(p.c,{className:"nav-item nav-link",to:"/customers"},"Customers"),r.a.createElement(p.c,{className:"nav-item nav-link",to:"/rentals"},"Rentals"),!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.c,{className:"nav-item nav-link ",to:"/register"},"Register"),r.a.createElement(p.c,{className:"nav-item nav-link",to:"/login"},"Login")),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.c,{className:"nav-item nav-link ",to:"/profile"},t.name),r.a.createElement(p.c,{className:"nav-item nav-link",to:"/logout"},"Logout")))))},h=a(31),v=a(1),f=a.n(v),b=a(6),g=a(16),y=a(10),E=a.n(y),k=a(18),O=a(30),j=a.n(O);var w={init:function(){j.a.config("https://aa55084a51744acba27b1ba75a235aa0@o431757.ingest.sentry.io/5383721").install()},log:function(e){j.a.captureException(e)}};E.a.defaults.baseURL="https://moviely-api.herokuapp.com/api",E.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400%e.response.status<500||(k.b.error("an unexpected error occured"),w.log(e)),Promise.reject(e)}));var S={getMovies:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/movies/");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),deleteMovie:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.delete("/movies/".concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getMovie:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/movies/".concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),saveMovie:function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(delete(a=Object(g.a)({},t))._id,!t._id){e.next=7;break}return e.next=5,E.a.put("/movies/".concat(t._id),a);case 5:e.next=9;break;case 7:return e.next=9,E.a.post("/movies/",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function C(){return(C=Object(b.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/genres");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}E.a.defaults.baseURL="https://moviely-api.herokuapp.com/api";var x=function(){return C.apply(this,arguments)},N=a(17),I=a.n(N),R=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.pageSize,a=e.totalItemNum,n=e.onPaginate,o=e.currentPage,s=Math.ceil(a/t);if(1===s)return null;var c=I.a.range(1,s+1);return r.a.createElement("nav",{"aria-label":"Page navigation example"},r.a.createElement("ul",{className:"pagination"},c.map((function(e){return r.a.createElement("li",{key:e,className:o===e?"page-item active":"page-item"},r.a.createElement("a",{onClick:function(){return n(e)},className:"page-link"},e))}))))}}]),a}(n.Component),M=function(e,t,a){return I()(e).slice((t-1)*a).take(a).value()},_=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"like-container",onClick:this.props.onLiked},r.a.createElement("i",{className:this.props.liked?"fa fa-heart":"fa fa-heart-o"}))}}]),a}(n.Component),P=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).renderSortIcon=function(t){var a=Object(g.a)({},e.props.sortColumn);return a.path===t?"asc"===a.order?r.a.createElement("i",{className:"fa fa-sort-asc"}):r.a.createElement("i",{className:"fa fa-sort-desc"}):null},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("thead",null,r.a.createElement("tr",null,this.props.columns.map((function(t){return t.label?r.a.createElement("th",{key:t.path,className:"clickable",onClick:function(){return e.props.onSort(t.path)},scope:"col"},t.label," ",e.renderSortIcon(t.path)):r.a.createElement("th",{key:t.key})}))))}}]),a}(n.Component),L=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("tbody",null,this.props.items.map((function(t){return r.a.createElement("tr",{key:t._id},e.props.columns.map((function(e){return e.content?r.a.createElement("td",null,e.content(t)):r.a.createElement("td",{key:I.a.get(t,e.path)},I.a.get(t,e.path))})))})))}}]),a}(n.Component),D=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("table",{className:"table  table-hover"},r.a.createElement(P,{sortColumn:this.props.sortColumn,columns:this.props.columns,onSort:this.props.onSort}),r.a.createElement(L,{items:this.props.items,columns:this.props.columns,onLiked:this.props.onLiked,onDelete:this.props.handleDelete}))}}]),a}(n.Component),z=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e.handleChange=function(t){t.preventDefault();var a;a=t.target.value.toLowerCase(),e.props.handleSearch(a)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.value;return r.a.createElement("div",{className:"form-group mt-3"},r.a.createElement("input",{name:"search",id:"search",className:"form-control",type:"text",placeholder:"Search . . . .",value:e,onChange:this.handleChange}))}}]),a}(n.Component),A=a(44),G=a.n(A);function U(){return(U=Object(b.a)(f.a.mark((function e(t,a){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("/auth",{email:t,password:a});case 2:n=e.sent,r=n.data,localStorage.setItem("token",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}E.a.defaults.baseURL="https://moviely-api.herokuapp.com/api",E.a.defaults.headers.common["x-auth-token"]=localStorage.getItem("token");var q={logout:function(){localStorage.removeItem("token")},login:function(e,t){return U.apply(this,arguments)},getCurrentUser:function(){try{var e=localStorage.getItem("token");return G()(e)}catch(t){return null}},loginWithJWT:function(e){localStorage.setItem("token",e)}},B=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a),(e=t.call(this)).columns=[{path:"title",label:"Title",content:function(e){return r.a.createElement(p.b,{to:"/movies/movie-form/".concat(e._id)}," ",e.title)}},{path:"genre.name",label:"Genre"},{path:"numberInStock",label:"Stock"},{path:"dailyRentalRate",label:"Rating"},{key:"like",content:function(t){return r.a.createElement(_,{onLiked:function(){return e.props.onLiked(t)},liked:t.liked})}}],e.deleteColumn={key:"delete",content:function(t){return r.a.createElement("button",{onClick:function(){return e.props.handleDelete(t._id)},className:"btn btn-danger"},"Delete")}},e.onSort=function(t){var a=Object(g.a)({},e.props.sortColumn);a.path===t?a.order="asc"===a.order?"desc":"asc":a.path=t,e.props.onSort(a)};var n=q.getCurrentUser();return n&&n.isAdmin&&e.columns.push(e.deleteColumn),e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.movies,a=e.paginatedMovies,n=e.onLiked,o=e.handleDelete,s=e.sortColumn,c=e.handleSearch,i=e.searchQuery;return r.a.createElement("div",{className:"list"},0!==t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"showing ",t.length," movies in database"),r.a.createElement(z,{value:i,handleSearch:c}),r.a.createElement(D,{items:a,columns:this.columns,sortColumn:s,onSort:this.onSort,onLiked:n,handleDelete:o})):r.a.createElement("p",null,"You are yet to add any movies"))}}]),a}(n.Component),F=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"list-group"},this.props.categories.map((function(t){return r.a.createElement("a",{key:t.name,onClick:function(){return e.props.onCategorize(t.name)},className:e.props.currentCategory.name===t.name?"list-group-item list-group-item-action active":"list-group-item list-group-item-action",style:{cursor:"pointer"}},t.name)})))}}]),a}(n.Component),Q=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],pageSize:4,currentPage:1,genres:[],currentGenre:"",sortColumn:{path:"title",order:"asc"},searchQuery:""},e.handleDelete=function(){var t=Object(b.a)(f.a.mark((function t(a){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.movies,t.prev=1,r=e.state.movies.filter((function(e){return e._id!==a})),e.setState({movies:r}),t.next=6,S.deleteMovie(a);case 6:t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0.response&&404===t.t0.response.status&&w.log("this movie has already been deleted"),e.setState({movies:n});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.onLiked=function(t){t.liked=!t.liked;var a=e.state.movies.map((function(e){return e._id===t._id?t:e}));e.setState({movies:a})},e.handlePaginate=function(t){console.log("handling pagination",t),e.setState({currentPage:t})},e.handleCategorize=function(t){var a=e.state.genres.find((function(e){return e.name===t}));console.log(a),e.setState({currentGenre:a,currentPage:1})},e.handleSort=function(t){e.setState({sortColumn:t})},e.handleSearch=function(t){e.setState({searchQuery:t,currentGenre:""})},e.getData=function(){if(e.state.searchQuery){var t=Object(h.a)(e.state.movies);t=t.filter((function(t){return-1!==t.title.toLowerCase().indexOf(e.state.searchQuery)}));var a=M(t,e.state.currentPage,e.state.pageSize);return{sorted_movies:I.a.orderBy(a,[e.state.sortColumn.path],[e.state.sortColumn.order]),categorized_movies:t}}var n=e.state.currentGenre?"All Genres"===e.state.currentGenre.name?e.state.movies:e.state.movies.filter((function(t){return t.genre.name===e.state.currentGenre.name})):e.state.movies,r=M(n,e.state.currentPage,e.state.pageSize);return{sorted_movies:I.a.orderBy(r,[e.state.sortColumn.path],[e.state.sortColumn.order]),categorized_movies:n}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return t=e.sent,e.next=5,S.getMovies();case 5:a=e.sent,this.setState({movies:a,genres:[{name:"All Genres"}].concat(Object(h.a)(t))});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user,t=this.getData(),a=t.sorted_movies,n=t.categorized_movies;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:" col-4"},r.a.createElement(F,{categories:this.state.genres,currentCategory:this.state.currentGenre,onCategorize:this.handleCategorize})),r.a.createElement("div",{className:"col"},e&&r.a.createElement(p.b,{className:"btn btn-primary m-2",to:"/movies/movie-form"},"New Movie"),r.a.createElement(B,{movies:n,paginatedMovies:a,onLiked:this.onLiked,handleDelete:this.handleDelete,onSort:this.handleSort,sortColumn:this.state.sortColumn,handleSearch:this.handleSearch,searchQuery:this.state.searchQuery}),r.a.createElement(R,{onPaginate:this.handlePaginate,pageSize:this.state.pageSize,currentPage:this.state.currentPage,totalItemNum:n.length}))))}}]),a}(n.Component),W=function(){return r.a.createElement("h1",null,"Rentals")},J=function(){return r.a.createElement("h1",null,"Our coustomers")},T=function(){return r.a.createElement("h1",null,"Page not found")},H=a(45),Y=function(e){var t=e.type,a=void 0===t?"text":t,n=e.name,o=e.label,s=e.value,c=e.onChange,i=e.error;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:n},o),r.a.createElement("input",{onChange:c,value:s,id:n,className:"form-control",type:a,placeholder:"Enter ".concat(o)}),i?r.a.createElement("div",{style:{fontSize:"0.8em"},className:"alert alert-danger"},i):null)},$=a(11),K=a.n($),V=function(e){var t=e.name,a=e.label,n=e.onChange,o=e.options,s=e.errors;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t}," ",a," "),r.a.createElement("select",{onChange:n,className:"form-control",name:t,id:t},o.map((function(e){return r.a.createElement("option",{value:e._id},e.name)}))),s?r.a.createElement("div",{style:{fontSize:"0.8em"},className:"alert alert-danger"},s):null)},X=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={data:{},errors:{}},e.validate=function(){var t=K.a.validate(e.state.data,e.schema,{abortEarly:!1});if(t.error){var a,n={},r=Object(H.a)(t.error.details);try{for(r.s();!(a=r.n()).done;){var o=a.value;n[o.path[0]]=o.message}}catch(s){r.e(s)}finally{r.f()}return n}return null},e.validateInput=function(t){var a="",n=K.a.validate(t.target.value,e.schema[t.target.id]);return n.error&&(a=n.error.details[0].message),a},e.handleSubmit=function(t){if(t.preventDefault(),e.validate()){var a;a=e.validate(),e.setState({errors:a})}e.doSubmit()},e.handleChange=function(t){t.preventDefault();var a=Object(g.a)({},e.state.data);a[t.target.id]=t.target.value;var n=Object(g.a)({},e.state.errors),r=e.validateInput(t);console.log(r),n[t.target.id]=r,e.setState({data:a,errors:n})},e.renderSelect=function(t,a,n){return r.a.createElement(V,{name:t,label:a,options:n,onChange:e.handleChange,errors:e.state.errors[t]})},e}return Object(i.a)(a,[{key:"renderButton",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"submit";return r.a.createElement("button",{disabled:this.validate(),type:"submit",className:"btn btn-primary"},e)}},{key:"renderInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"text",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return r.a.createElement(Y,{type:e,name:t,label:a,value:this.state.data[t],onChange:this.handleChange,error:this.state.errors[t]})}}]),a}(n.Component),Z=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:{_id:"",title:"",genreId:"",dailyRentalRate:"",numberInStock:""},errors:{movieName:"",genre:"",rating:"",stock:""},genres:[]},e.schema={_id:K.a.string().allow("",null),title:K.a.string().min(5).required(),genreId:K.a.string().required(),dailyRentalRate:K.a.number().min(1).max(100).required(),numberInStock:K.a.number().min(1).max(100).required()},e.doSubmit=Object(b.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.saveMovie(e.state.data);case 2:e.props.history.push("/movies");case 3:case"end":return t.stop()}}),t)}))),e.populateGenre=Object(b.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x();case 2:a=t.sent,e.setState({genres:a});case 4:case"end":return t.stop()}}),t)}))),e.populateMovie=Object(b.a)(f.a.mark((function t(){var a,n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.match.params.id){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,S.getMovie(a);case 5:n=t.sent,(r={})._id=n._id,r.title=n.title,r.genreId=n.genre._id,r.dailyRentalRate=n.dailyRentalRate,r.numberInStock=n.numberInStock,e.setState({data:r});case 13:case"end":return t.stop()}}),t)}))),e.componentDidMount=Object(b.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.populateGenre(),e.populateMovie();case 2:case"end":return t.stop()}}),t)}))),e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.match.params.id?r.a.createElement("h1",null,"Movie form for ",this.props.match.params.id):r.a.createElement("h1",null,"New movie"),r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("text","title","Movie Name"),this.renderSelect("genreId","Genre",this.state.genres),this.renderInput("number","dailyRentalRate","Rating"),this.renderInput("number","numberInStock","Stock"),this.renderButton("save")))}}]),a}(X),ee=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:{username:"",password:""},errors:{password:"",username:""}},e.schema={username:K.a.string().max(20).min(3).required().label("Username"),password:K.a.string().required().label("Password")},e.doSubmit=Object(b.a)(f.a.mark((function t(){var a,n,r,o,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.state.data,n=a.username,r=a.password,t.next=4,q.login(n,r);case 4:o=e.props.location.state,window.location=o||"/",t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0.response&&400===t.t0.response.status&&((s=e.state.errors).username=t.t0.response.data,e.setState({errors:s}),k.b.error(t.t0.response.data));case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e}return Object(i.a)(a,[{key:"render",value:function(){return q.getCurrentUser()?r.a.createElement(m.a,{to:"/"}," "):r.a.createElement("div",{className:"main"},r.a.createElement("h1",null,"Login Page"),r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("text","username","Username"),this.renderInput("password","password","Password"),r.a.createElement("div",{className:"formgroup"},this.renderButton())))}}]),a}(X);function te(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a={}).email=t.username,a.name=t.name,a.password=t.password,e.next=6,E.a.post("/users",a);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}E.a.defaults.baseURL="https://moviely-api.herokuapp.com/api";var ne=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:{username:"",password:"",name:""},errors:{username:"",password:"",name:""}},e.schema={username:K.a.string().email().required().label("Username"),password:K.a.string().min(5).required().label("Password"),name:K.a.string().required().label("Name")},e.doSubmit=Object(b.a)(f.a.mark((function t(){var a,n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te(e.state.data);case 3:a=t.sent,n=a.headers["x-auth-token"],q.loginWithJWT(n),window.location="/",Object(k.b)("user ".concat(a.data.name," created sucessfully")),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0.response&&400===t.t0.response.status&&((r=Object(g.a)({},e.state.errors)).username="user already exist",e.setState({errors:r}),k.b.error("user already exist"));case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Register Form"),r.a.createElement("form",{onSubmit:this.handleSubmit,className:""},this.renderInput("username","username","Username"),this.renderInput("password","password","Password"),this.renderInput("text","name","Name"),this.renderButton("Register")))}}]),a}(X),re=a(46),oe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.path,a=e.component,o=e.render,s=Object(re.a)(e,["path","component","render"]),c=q.getCurrentUser();return r.a.createElement(m.b,Object.assign({path:t},s,{render:function(e){return c?n.Component?r.a.createElement(a,e):o(e):r.a.createElement(m.a,{to:{pathname:"/login",state:e.location.pathname}})}}))}}]),a}(n.Component),se=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){q.logout(),window.location="/"}},{key:"render",value:function(){return null}}]),a}(n.Component),ce=(a(83),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user:null},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=q.getCurrentUser();this.setState({user:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("main",{className:"main"},r.a.createElement(d,{user:this.state.user}),r.a.createElement("div",{className:"container mt-5"},r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/customers",component:J}),r.a.createElement(m.b,{path:"/rentals",component:W}),r.a.createElement(m.b,{path:"/login",component:ee}),r.a.createElement(m.b,{path:"/logout",component:se}),r.a.createElement(m.b,{path:"/register",component:ne}),r.a.createElement(oe,{path:"/movies/movie-form/:id?",component:Z}),r.a.createElement(m.a,{from:"/movies",to:"/"}),r.a.createElement(m.b,{path:"/not-found",component:T}),r.a.createElement(m.b,{path:"/",exact:!0,render:function(t){return r.a.createElement(Q,Object.assign({},t,{user:e.state.user}))}}),r.a.createElement(m.a,{to:"/not-found"})))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(84),a(85),a(86);w.init(),s.a.render(r.a.createElement(p.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(k.a,null),r.a.createElement(ce,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.82f39d6f.chunk.js.map